# سرویس پیامرسان بله

سلام به روی ماهتون. این یه پکیج لاراوله برای ارسال پیام از طریق [پیامرسان بله](https://dev.bale.ai/).

## نصب
اول برید توی پیامرسان بله و از طریق ربات botfather یک ربات برای خودتون ایجاد کنید.
بعد توکن رو دریافت کنید و ربات رو به گروه یا کانالی که میخواین به عنوان ادمین اضافه کنید.


برای نصب از کمپوزر استفاده میکنیم:

```bash
composer require fibdesign/bale
```

برای اینکه بتونید تنظیمات شخصی خودتون رو انجام بدین، فایل کانفیگ پکیج رو بیایم انتقال بدیم به پوشه کانفیگ پروژه

```bash
php artisan vendor:publish
```

بعد از وارد کردن این کامند، پروایدر زیر رو انتخاب کنید:

     - Fibdesign\Bale\Providers\BaleProvider

یادتون نره که مقادیر رو توی env هم بزارید

```dotenv
Bale_API_KEY=apikey
BALE_CHAT_ID=آی دی کانال یا گروه
```

## مقدار ها

| METHOD        | SYNTAX                | REQURIED | DESCRIPTION                                                      | EXAMPLE                               |
|-------------|---------------------|----------|------------------------------------------------------------------|---------------------------------------|
| chat()        | `strings`  | خیر      | آی دی کانال و یا گروهی که میخواین بهش پیام بفرستید               | $baleService->chat("DJE561FV:CSV")    |
| message()      | `string`               | بلی      | متن پیام.                                                        | $baleService->message("Hi from Bale") |
| dispatch()     |        void           | بلی      | برای اینکه عمل ارسال انجام بشه، این رو حتما در آخر فراخوانی کنید | $baleService->dispatch()              |

## نحوه استفاده

### بریم با هم چند تا نمونه ببینیم

ارسال پیام

```php
$baleService->chat("DJE561FV:CSV")
    ->message("تست پیام")
    ->dispatch();
```

 در صورتی که متد chat رو صدا نزنید، از آی دی ای که توی env تعریف کردید استفاده میکنه.

```php
$baleService->message("تست پیام")
    ->dispatch();
```
